<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Book Download</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:Arial,Helvetica,sans-serif}
    body{background:#f4f1ea;color:#333}
    header{background:#f3f1ea;border-bottom:1px solid #ddd}
    .container{max-width:1100px;margin:auto;padding:20px}
    .nav{display:flex;justify-content:space-between;align-items:center}
    .logo{font-size:24px;font-weight:bold;color:#382110}
    .nav a{margin-left:20px;text-decoration:none;color:#382110;font-weight:600}

    .hero{display:grid;grid-template-columns:1fr 1fr;gap:40px;padding:60px 0;align-items:center}
    .hero h1{font-size:42px;margin-bottom:10px;color:#382110}
    .hero .asin{font-size:16px;color:#6b4f3f;margin-bottom:20px}
    .rating{font-size:16px;margin-bottom:25px}

    .btn{display:inline-block;padding:14px 26px;background:#382110;color:#fff;text-decoration:none;border-radius:4px;font-weight:bold}
    .btn.secondary{background:#6b4f3f;margin-left:10px}

    .book-cover{width:100%;max-width:320px;border-radius:6px;box-shadow:0 10px 25px rgba(0,0,0,.2)}

    .features{background:#fff;padding:60px 0}
    .features h2{text-align:center;margin-bottom:40px;color:#382110}
    .feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px}
    .feature{background:#f9f9f9;padding:25px;border-radius:6px;text-align:center}

    .cta{background:#382110;color:#fff;text-align:center;padding:60px 20px}
    footer{background:#2f1b0c;color:#ddd;padding:20px;text-align:center;font-size:14px}

    @media(max-width:768px){.hero{grid-template-columns:1fr;text-align:center}}
  </style>
</head>
<body>

<header>
  <div class="container nav">
    <div class="logo">BookShelf</div>
    <nav>
      <a href="#features">Features</a>
      <a href="#download">Download</a>
    </nav>
  </div>
</header>

<section class="container hero">
  <div>
    <h1 id="bookTitle">Book Title</h1>
    <div class="asin">ASIN: <span id="asinText"></span></div>
    <div class="rating">‚≠ê Popular Amazon Book</div>

    

    <a href="#download" class="btn secondary">Download PDF</a>
  </div>
  <div>
    <img id="coverImage" class="book-cover" alt="Book Cover" />
  </div>
</section>

<section id="features" class="features">
  <div class="container">
    <h2>Why Download This Book</h2>
    <div class="feature-grid">
      <div class="feature">
        <h3>üìï Amazon ASIN Based</h3>
        <p>Cover image generated directly from ASIN.</p>
      </div>
      <div class="feature">
        <h3>‚ö° Fast Download</h3>
        <p>No API, no login, instant access.</p>
      </div>
      <div class="feature">
        <h3>üìÑ PDF Format</h3>
        <p>Easy to read on all devices.</p>
      </div>
    </div>
  </div>
</section>

<section id="download" class="cta">
  <h2>Download Book PDF</h2>
  <p>Click below to start your download.</p>
  <a href="files/book.pdf" download class="btn">Download PDF</a>
</section>

<footer>
  <p>¬© 2026 BookShelf. ASIN-based book landing page.</p>
</footer>

<script>
  /* GOOGLE-FRIENDLY SLUG SUPPORT: /book/asin/B0XXXX */

  function getASIN(){
    // Priority 1: URL parameter ?asin=
    const params = new URLSearchParams(window.location.search);
    const asinParam = params.get('asin');
    if(asinParam) return asinParam;

    // Priority 2: SEO slug /book/asin/B0XXXX
    const pathParts = window.location.pathname.split('/').filter(Boolean);
    const asinIndex = pathParts.indexOf('asin');
    if(asinIndex !== -1 && pathParts[asinIndex + 1]){
      return pathParts[asinIndex + 1];
    }

    return null;
  }

  function loadASIN(asin){
  const imageUrls = [
    `https://images-na.ssl-images-amazon.com/images/P/${ASIN}.01.LZZZZZZZ.jpg`,
    `https://ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=${asin}&Format=_SL500_`
  ];

  const img = document.getElementById('coverImage');
  let i = 0;

  function tryLoad(){
    if(i >= imageUrls.length) return;
    img.src = imageUrls[i++];
  }

  img.onerror = tryLoad;
  tryLoad();

  document.getElementById('asinText').textContent = asin;
  document.getElementById('bookTitle').textContent = `Amazon Book (${asin})`;
}
  const asin = getASIN();
  if(asin){
    loadASIN(asin);
  } else {
    document.getElementById('bookTitle').textContent = 'No ASIN Provided';
  }
</script>

</body>
</html>
